import{_ as e,u as a,b as t}from"./index-C_Usn6qf.js";import{L as s}from"./LogPanel-C7MfT2ys.js";import{u as o,j as l,k as i,R as n,B as r,m as c,q as u,n as d,o as m,w as f}from"./naive-ui-CtewNtT3.js";import{r as h,bg as g,bF as b,bE as v,q as p,bf as R,bn as y,bh as _,F as M,bk as x,b7 as B,bi as D,k as F,bj as H,aW as C,b1 as k}from"./vendor-CBGg7cPT.js";const w="ready",$="in_progress",O="victory",E="defeat",T="normal",j="boss",S="elite";class L{constructor(e={}){this.health=e.health||100,this.maxHealth=e.maxHealth||100,this.damage=e.damage||10,this.defense=e.defense||5,this.speed=e.speed||10,this.critRate=e.critRate||.05,this.comboRate=e.comboRate||0,this.counterRate=e.counterRate||0,this.stunRate=e.stunRate||0,this.dodgeRate=e.dodgeRate||.05,this.vampireRate=e.vampireRate||0,this.critResist=e.critResist||0,this.comboResist=e.comboResist||0,this.counterResist=e.counterResist||0,this.stunResist=e.stunResist||0,this.dodgeResist=e.dodgeResist||0,this.vampireResist=e.vampireResist||0,this.healBoost=e.healBoost||0,this.critDamageBoost=e.critDamageBoost||.5,this.critDamageReduce=e.critDamageReduce||0,this.finalDamageBoost=e.finalDamageBoost||0,this.finalDamageReduce=e.finalDamageReduce||0,this.combatBoost=e.combatBoost||0,this.resistanceBoost=e.resistanceBoost||0}calculateDamage(e){let a=Math.abs(this.damage*(1+this.combatBoost)),t=!1,s=!1,o=!1,l=!1;const i=Math.max(0,this.critRate*(1+this.combatBoost)-(e?e.stats.critResist*(1+e.stats.resistanceBoost):0));Math.random()<i&&(a*=1.5+this.critDamageBoost,t=!0);const n=Math.max(0,this.comboRate*(1+this.combatBoost)-(e?e.stats.comboResist:0));Math.random()<n&&(a*=1.3,s=!0);const r=Math.max(0,this.vampireRate*(1+this.combatBoost)-(e?e.stats.vampireResist:0));Math.random()<r&&(o=!0);const c=Math.max(0,this.stunRate*(1+this.combatBoost)-(e?e.stats.stunResist:0));return Math.random()<c&&(l=!0),a*=1+this.finalDamageBoost,{damage:Math.abs(a),isCrit:t,isCombo:s,isVampire:o,isStun:l}}calculateDamageReduction(e,a){let t=Math.abs(e);return t*=100/(100+this.defense*(1+this.combatBoost)),a&&a.isCrit&&(t*=1-this.critDamageReduce),t*=1-this.finalDamageReduce,Math.abs(t)}}class P{constructor(e,a,t={},s="燃火期一层"){const o={...t};this.name=e,this.level=a,this.realm=s,o.health&&!o.maxHealth&&(o.maxHealth=o.health),this.stats=new L(o),this.currentHealth=this.stats.maxHealth,this.effects=[]}takeDamage(e,a){const t=Math.max(0,Math.min(1,this.stats.dodgeRate-(a?a.stats.dodgeResist:0)));if(Math.random()<t)return{dodged:!0,damage:0};const s=this.stats.calculateDamageReduction(e);this.currentHealth=Math.max(0,this.currentHealth-s);let o=!1;if(a){const e=Math.max(0,this.stats.counterRate-a.stats.counterResist);Math.random()<e&&(o=!0)}return{dodged:!1,damage:s,currentHealth:this.currentHealth,isDead:this.currentHealth<=0,isCounter:o}}heal(e){const a=this.currentHealth;return this.currentHealth=Math.min(this.stats.maxHealth,this.currentHealth+e),this.currentHealth-a}addEffect(e){this.effects.push(e),e.apply(this)}removeEffect(e){const a=this.effects.findIndex(a=>a.id===e);if(a>=0){this.effects[a].remove(this),this.effects.splice(a,1)}}}class q{constructor(e,a,t=T){this.player=e,this.enemy=a,this.type=t,this.state=w,this.round=0,this.maxRounds=10,this.log=[]}start(){return this.state=$,this.state}executeTurn(){if(this.state!==$)return null;if(this.round++,this.round>this.maxRounds)return this.state=E,this.log.push(`战斗超过${this.maxRounds}回合，战斗失败！`),{results:[],state:this.state};const e=[],a=this.player.stats.speed*(1+this.player.stats.combatBoost),t=this.enemy.stats.speed*(1+this.enemy.stats.combatBoost),s=a>=t?this.player:this.enemy,o=a>=t?this.enemy:this.player,l=s.stats.calculateDamage(o),i=o.takeDamage(l.damage,s);let n=`${s.name}率先发起攻击`;if(i.dodged)n+="，被闪避了！";else{if(n+=`，造成${i.damage.toFixed(1)}点伤害`,l.isCrit&&(n+="（暴击！）"),l.isCombo&&(n+="（连击！）"),l.isVampire){const e=.3*i.damage;s.heal(e),n+=`（吸血恢复${e.toFixed(1)}点生命值！）`}l.isStun&&(n+="（眩晕目标！）")}if(this.log.push(n),e.push({attacker:s.name,defender:o.name,damage:i.damage,isCrit:l.isCrit,isCombo:l.isCombo,isDodged:i.dodged}),i.isDead)return this.state=s===this.player?O:E,this.log.push(`${s.name}获得胜利！`),{results:e,state:this.state};if(!l.isStun){const a=o.stats.calculateDamage(s),t=s.takeDamage(a.damage,o);i.isCounter&&this.log.push(`${o.name}触发了反击效果！`);let l=i.isCounter?`${o.name}的反击`:`${o.name}进行攻击`;if(t.dodged)l+="，被闪避了！";else{if(l+=`，造成${t.damage.toFixed(1)}点伤害`,a.isCrit&&(l+="（暴击！）"),a.isCombo&&(l+="（连击！）"),a.isVampire){const e=.3*t.damage;o.heal(e),l+=`（吸血恢复${e.toFixed(1)}点生命值！）`}a.isStun&&(l+="（眩晕目标！）")}this.log.push(l),e.push({attacker:o.name,defender:s.name,damage:t.damage,isCrit:a.isCrit,isCombo:a.isCombo,isDodged:t.dodged}),t.isDead&&(this.state=o===this.player?O:E,this.log.push(`${o.name}获得胜利！`))}return{results:e,state:this.state}}getCombatLog(){return this.log}}const K={common:[{id:"heal",name:"气血增加",description:"增加10%血量",effect:e=>{e.stats&&(e.stats.maxHealth=1.1*(e.stats.maxHealth||100),e.stats.health=Math.min(e.stats.maxHealth,e.stats.health+.1*e.stats.maxHealth))}},{id:"small_buff",name:"小幅强化",description:"增加10%伤害",effect:e=>{e.stats&&(e.stats.finalDamageBoost=(e.stats.finalDamageBoost||0)+.1)}},{id:"defense_boost",name:"铁壁",description:"提升20%防御力",effect:e=>{e.stats&&(e.stats.defense=1.2*(e.stats.defense||5))}},{id:"speed_boost",name:"疾风",description:"提升15%速度",effect:e=>{e.stats&&(e.stats.speed=1.15*(e.stats.speed||10))}},{id:"crit_boost",name:"会心",description:"提升15%暴击率",effect:e=>{e.stats&&(e.stats.critRate=(e.stats.critRate||.05)+.15)}},{id:"dodge_boost",name:"轻身",description:"提升15%闪避率",effect:e=>{e.stats&&(e.stats.dodgeRate=(e.stats.dodgeRate||.05)+.15)}},{id:"vampire_boost",name:"吸血",description:"提升10%吸血率",effect:e=>{e.stats&&(e.stats.vampireRate=(e.stats.vampireRate||0)+.1)}},{id:"combat_boost",name:"战意",description:"提升10%战斗属性",effect:e=>{e.stats&&(e.stats.combatBoost=(e.stats.combatBoost||0)+.1)}}],rare:[{id:"defense_master",name:"防御大师",description:"防御力提升10%",effect:e=>{e.stats&&(e.stats.defense=1.1*(e.stats.defense||5))}},{id:"crit_mastery",name:"会心精通",description:"暴击率提升10%，暴击伤害提升20%",effect:e=>{e.stats&&(e.stats.critRate=(e.stats.critRate||.05)+.1,e.stats.critDamageBoost=(e.stats.critDamageBoost||.2)+.2)}},{id:"dodge_master",name:"无影",description:"闪避率提升10%",effect:e=>{e.stats&&(e.stats.dodgeRate=(e.stats.dodgeRate||.05)+.1)}},{id:"combo_master",name:"连击精通",description:"连击率提升10%",effect:e=>{e.stats&&(e.stats.comboRate=(e.stats.comboRate||0)+.1)}},{id:"vampire_master",name:"血魔",description:"吸血率提升5%",effect:e=>{e.stats&&(e.stats.vampireRate=(e.stats.vampireRate||0)+.05)}},{id:"stun_master",name:"震慑",description:"眩晕率提升5%",effect:e=>{e.stats&&(e.stats.stunRate=(e.stats.stunRate||0)+.05)}}],epic:[{id:"ultimate_power",name:"极限突破",description:"所有战斗属性提升50%",effect:e=>{e.stats&&(e.stats.combatBoost=(e.stats.combatBoost||0)+.5,e.stats.finalDamageBoost=(e.stats.finalDamageBoost||0)+.5)}},{id:"divine_protection",name:"天道庇护",description:"最终减伤提升30%",effect:e=>{e.stats&&(e.stats.finalDamageReduce=(e.stats.finalDamageReduce||0)+.3)}},{id:"combat_master",name:"战斗大师",description:"所有战斗属性和抗性提升25%",effect:e=>{e.stats&&(e.stats.combatBoost=(e.stats.combatBoost||0)+.25,e.stats.resistanceBoost=(e.stats.resistanceBoost||0)+.25)}},{id:"immortal_body",name:"不朽之躯",description:"生命上限提升100%，最终减伤提升20%",effect:e=>{e.stats&&(e.stats.maxHealth=2*(e.stats.maxHealth||100),e.stats.health=e.stats.maxHealth,e.stats.finalDamageReduce=(e.stats.finalDamageReduce||0)+.2)}},{id:"celestial_might",name:"天人合一",description:"所有战斗属性提升40%，生命值增加50%",effect:e=>{e.stats&&(e.stats.combatBoost=(e.stats.combatBoost||0)+.4,e.stats.maxHealth=1.5*(e.stats.maxHealth||100),e.stats.health=Math.min(e.stats.maxHealth,e.stats.health+.5*e.stats.maxHealth))}},{id:"battle_sage_supreme",name:"战圣至尊",description:"暴击率提升40%，暴击伤害提升80%，最终伤害提升20%",effect:e=>{e.stats&&(e.stats.critRate=(e.stats.critRate||.05)+.4,e.stats.critDamageBoost=(e.stats.critDamageBoost||.5)+.8,e.stats.finalDamageBoost=(e.stats.finalDamageBoost||0)+.2)}}]},V={activeBuffs:[],apply(e,a){this.activeBuffs.push({id:a.id,name:a.name,effect:a.effect}),"function"==typeof a.effect&&a.effect(e)},clear(e){this.activeBuffs=[]},getActiveBuffs(){return this.activeBuffs}},A={class:"dungeon-container"},I={class:"option-cards"},U=["onClick"],W={class:"option-name"},z={class:"option-description"},G={class:"combat-scene"},J={key:0,class:"attack-effect player-effect"},N={class:"character-avatar player-avatar"},Q={class:"health-bar"},X={key:0,class:"attack-effect enemy-effect"},Y={class:"character-avatar enemy-avatar"},Z={class:"health-bar"},ee=e({__name:"Dungeon",setup(e){const w=a(),$=o(),O=h(null),E=h(!1),L=h(!1),ee=h(!1),ae=h(!1),te=h(!1),se=h(""),oe=p(()=>{switch(w.dungeonDifficulty){case 1:default:return w.dungeonHighestFloor;case 2:return w.dungeonHighestFloor_2;case 5:return w.dungeonHighestFloor_5;case 10:return w.dungeonHighestFloor_10;case 100:return w.dungeonHighestFloor_100}}),le=h({floor:oe.value,inCombat:!1,showingOptions:!1,currentOptions:[],combatManager:null}),ie=h([]),ne=e=>({epic:{name:"史诗",color:"#e91e63"},rare:{name:"稀有",color:"#2196f3"},common:{name:"普通",color:"#4caf50"}}[e]),re=()=>{const e=oe.value;le.value={floor:e,inCombat:!1,showingOptions:!1,currentOptions:[],combatManager:null},w.dungeonTotalRuns++,ce()},ce=()=>{le.value={...le.value,floor:le.value.floor+1};const e=le.value.floor;if(1===e||e%5==0){const e=Math.floor(3*Math.random())+1;return $.success(`获得了${e}刷新次数`),Re.value=e,void ue()}me()},ue=()=>{le.value.showingOptions=!0,le.value.currentOptions=(e=>{let a=.25,t=.05;e%10==0?(a=.3,t=.2):e%5==0&&(a=.35,t=.15);const s=[],o=new Set;for(;s.length<3;){const e=Math.random();let l="common";e<t?l="epic":e<t+a&&(l="rare");const i=K[l].filter(e=>!o.has(e.id));if(i.length>0){const e=i[Math.floor(Math.random()*i.length)];e.type=l,s.push(e),o.add(e.id)}else{const e=[...K.common,...K.rare,...K.epic].filter(e=>!o.has(e.id));if(e.length>0){const a=e[Math.floor(Math.random()*e.length)];a.type=l,s.push(a),o.add(a.id)}}}return s})(le.value.floor)},de=()=>{if(le.value.inCombat=!1,te.value=!1,se.value="",$.error(`在第 ${le.value.floor} 层被击败了...`),w.dungeonDeathCount++,V.clear(w),w.dungeonLastFailedFloor=le.value.floor,100!==w.dungeonDifficulty){const e=.4*Math.random()+.1,a=Math.floor(w.cultivation*e);w.cultivation=Math.max(0,w.cultivation-a),$.error(`战斗失败！损失了${a}点修为。`)}else{const e=Math.floor(3*Math.random())+1,a=Math.max(1,w.level-e);w.level=a,w.cultivation=0,w.maxCultivation=t(a).maxCultivation,$.error(`战斗失败！跌落了${a}个境界。`)}},me=()=>{const e=le.value.floor,a=e%10==0?j:e%5==0?S:T,t=(()=>{const e=w.getTotalStats(),a={health:e.health,damage:e.attack,defense:e.defense,speed:e.speed,critRate:e.critRate,comboRate:e.comboRate,counterRate:e.counterRate,stunRate:e.stunRate,dodgeRate:e.dodgeRate,vampireRate:e.vampireRate,critResist:e.critResist,comboResist:e.comboResist,counterResist:e.counterResist,stunResist:e.stunResist,dodgeResist:e.dodgeResist,vampireResist:e.vampireResist,healBoost:e.healBoost,critDamageBoost:e.critDamageBoost,critDamageReduce:e.critDamageReduce,finalDamageBoost:e.finalDamageBoost,finalDamageReduce:e.finalDamageReduce,combatBoost:e.combatBoost,resistanceBoost:e.resistanceBoost,spiritDamage:.1*w.spirit,maxHealth:e.health},t=new P(w.name,w.level,a,w.realm);return V.getActiveBuffs().forEach(e=>{"function"==typeof e.effect&&e.effect(t)}),t})(),s=function(e,a=T,t=1){const s={health:100+t*e*200,damage:8+t*e*2,defense:3+t*e*2,speed:5+t*e*2,critRate:.05+t*e*.02,comboRate:.03+t*e*.02,counterRate:.03+t*e*.02,stunRate:.02+t*e*.01,dodgeRate:.05+t*e*.02,vampireRate:.02+t*e*.01,critResist:.02+t*e*.01,comboResist:.02+t*e*.01,counterResist:.02+t*e*.01,stunResist:.02+t*e*.01,dodgeResist:.02+t*e*.01,vampireResist:.02+t*e*.01,healBoost:.05+t*e*.02,critDamageBoost:.2+t*e*.1,critDamageReduce:.1+t*e*.05,finalDamageBoost:.05+t*e*.02,finalDamageReduce:.05+t*e*.02,combatBoost:.03+t*e*.02,resistanceBoost:.03+t*e*.02};switch(a){case S:Object.keys(s).forEach(e=>{"number"==typeof s[e]&&(e.includes("Rate")||e.includes("Resist")||e.includes("Boost")||e.includes("Reduce")?s[e]=Math.min(.8,1.3*s[e]):s[e]*=1.5)});break;case j:Object.keys(s).forEach(e=>{"number"==typeof s[e]&&(e.includes("Rate")||e.includes("Resist")||e.includes("Boost")||e.includes("Reduce")?s[e]=Math.min(.9,1.5*s[e]):s[e]*=2)})}let o="";const l=["野狼","山猪","毒蛇","黑熊","猛虎","恶狼","巨蟒","狂狮"],i=["赤焰虎","玄冰蟒","紫电豹","金刚猿","幽冥狼","碧水蛟","雷霆鹰","烈风豹"],n=["九尾天狐","万年龙蟒","太古神虎","玄天冰凤","幽冥魔龙","混沌巨兽","远古天蟒","不死火凤"];switch(a){case j:o=n[Math.floor(e/10)%n.length];break;case S:o=i[Math.floor(e/5)%i.length];break;default:o=l[e%l.length]}return new P(o,e,s,"燃火期一层")}(e,a,w.dungeonDifficulty);le.value.combatManager=new q(t,s,e=>{O.value&&O.value.addLog(e)}),le.value.inCombat=!0,le.value.combatManager.start(),fe()},fe=async()=>{for(;le.value.inCombat;){const e=le.value.combatManager.executeTurn(),a=le.value.combatManager.getCombatLog();if(e.attacker===le.value.combatManager.player?(E.value=!0,ae.value=!0,await new Promise(e=>setTimeout(e,500)),E.value=!1,ae.value=!1):(ee.value=!0,L.value=!0,await new Promise(e=>setTimeout(e,500)),ee.value=!1,L.value=!1),!e)break;if(a.forEach(e=>{var a;null==(a=O.value)||a.addLog("info",e)}),"victory"===e.state){he();break}if("defeat"===e.state){de();break}await new Promise(e=>setTimeout(e,500))}},he=()=>{le.value.inCombat=!1,$.success(`击败了第 ${le.value.floor} 层的敌人！`),w.dungeonTotalKills++,le.value.floor%10==0?w.dungeonBossKills++:le.value.floor%5==0&&(w.refinementStones+=w.dungeonDifficulty,w.dungeonEliteKills++,$.success(`获得了${w.dungeonDifficulty}颗洗练石`)),le.value.floor>w.dungeonHighestFloor&&(w.dungeonHighestFloor=le.value.floor);ge().forEach(e=>{w.spiritStones+=e.amount,$.success(`获得了 ${e.amount} 灵石！`),w.dungeonTotalRewards++}),ce()},ge=()=>{const e=[],a=10*le.value.floor*w.dungeonDifficulty;return e.push({type:"spirit_stones",amount:a}),e},be=e=>{te.value=!0,se.value=e},ve=[{label:"简单",value:1},{label:"普通",value:2},{label:"困难",value:5},{label:"地狱",value:10},{label:"通天",value:100}],pe=(e,a)=>{100===e&&$.warning("警告! 通天难度挑战失败后会跌落境界")},Re=h(3),ye=()=>{ue(),Re.value--};return(e,a)=>{const t=f,o=r,h=i,p=n,T=l,j=c,S=m,P=d,q=u;return R(),g("div",A,[b(T,{title:"秘境探索"},{"header-extra":v(()=>[b(h,null,{default:v(()=>[b(t,{value:k(w).dungeonDifficulty,"onUpdate:value":[a[0]||(a[0]=e=>k(w).dungeonDifficulty=e),pe],placeholder:"请选择难度",options:ve,style:{width:"120px"},disabled:le.value.inCombat||le.value.showingOptions},null,8,["value","disabled"]),b(o,{type:"primary",onClick:re,disabled:le.value.inCombat||le.value.showingOptions},{default:v(()=>[...a[4]||(a[4]=[F(" 开始探索 ",-1)])]),_:1},8,["disabled"])]),_:1})]),default:v(()=>[b(h,{vertical:""},{default:v(()=>[b(p,{label:"当前层数",value:le.value.floor},null,8,["value"]),le.value.showingOptions?(R(),y(T,{key:0,title:"选择增益"},{"header-extra":v(()=>[b(h,null,{default:v(()=>[b(o,{type:"primary",onClick:ye,disabled:0===Re.value},{default:v(()=>[F(" 刷新增益("+D(Re.value)+") ",1)]),_:1},8,["disabled"])]),_:1})]),default:v(()=>[_("div",I,[(R(!0),g(M,null,x(le.value.currentOptions,e=>(R(),g("div",{key:e.id,class:"option-card",style:B({borderColor:ne(e.type).color}),onClick:a=>(e=>{V.apply(w,e),$.success(`选择了：${e.name}`),le.value.showingOptions=!1,le.value.currentOptions=[],me()})(e)},[_("div",W,D(e.name),1),_("div",z,D(e.description),1),_("div",{class:"option-quality",style:B({color:ne(e.type).color})},D(ne(e.type).name),5)],12,U))),128))])]),_:1})):H("",!0),le.value.inCombat&&le.value.combatManager?(R(),y(T,{key:1,bordered:!1},{default:v(()=>[b(j,null,{default:v(()=>[F(D(le.value.combatManager.round)+" / "+D(le.value.combatManager.maxRounds)+"回合 ",1)]),_:1}),_("div",G,[_("div",{class:C(["character player",{attack:E.value,hurt:L.value}])},[E.value?(R(),g("div",J)):H("",!0),b(o,{class:"character-name",type:"info",dashed:"",onClick:a[1]||(a[1]=e=>be("player"))},{default:v(()=>[F(D(le.value.combatManager.player.name),1)]),_:1}),_("div",N,D(le.value.combatManager.player.name[0]),1),_("div",Q,[_("div",{class:"health-fill",style:B({width:le.value.combatManager.player.currentHealth/le.value.combatManager.player.stats.maxHealth*100+"%"})},null,4)])],2),_("div",{class:C(["character enemy",{attack:ee.value,hurt:ae.value}])},[ee.value?(R(),g("div",X)):H("",!0),b(o,{class:"character-name",type:"error",dashed:"",onClick:a[2]||(a[2]=e=>be("enemy"))},{default:v(()=>[F(D(le.value.combatManager.enemy.name),1)]),_:1}),_("div",Y,D(le.value.combatManager.enemy.name[0]),1),_("div",Z,[_("div",{class:"health-fill",style:B({width:le.value.combatManager.enemy.currentHealth/le.value.combatManager.enemy.stats.maxHealth*100+"%"})},null,4)])],2)]),b(q,{show:te.value,"onUpdate:show":a[3]||(a[3]=e=>te.value=e),preset:"dialog",title:`${"player"==se.value?le.value.combatManager.player.name:le.value.combatManager.enemy.name}的属性`},{default:v(()=>[b(T,{bordered:!1},{default:v(()=>["player"==se.value?(R(),g(M,{key:0},[b(j,null,{default:v(()=>[...a[5]||(a[5]=[F("基础属性",-1)])]),_:1}),b(P,{bordered:"",column:2},{default:v(()=>[b(S,{label:"生命值"},{default:v(()=>[F(D(le.value.combatManager.player.currentHealth.toFixed(1))+" / "+D(le.value.combatManager.player.stats.maxHealth.toFixed(1)),1)]),_:1}),b(S,{label:"攻击力"},{default:v(()=>[F(D(le.value.combatManager.player.stats.damage.toFixed(1)),1)]),_:1}),b(S,{label:"防御力"},{default:v(()=>[F(D(le.value.combatManager.player.stats.defense.toFixed(1)),1)]),_:1}),b(S,{label:"速度"},{default:v(()=>[F(D(le.value.combatManager.player.stats.speed.toFixed(1)),1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[6]||(a[6]=[F("战斗属性",-1)])]),_:1}),b(P,{bordered:"",column:3},{default:v(()=>[b(S,{label:"暴击率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.critRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"连击率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.comboRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"反击率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.counterRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"眩晕率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.stunRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"闪避率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.dodgeRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"吸血率"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.vampireRate).toFixed(1))+"% ",1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[7]||(a[7]=[F("战斗抗性",-1)])]),_:1}),b(P,{bordered:"",column:3},{default:v(()=>[b(S,{label:"抗暴击"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.critResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗连击"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.comboResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗反击"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.counterResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗眩晕"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.stunResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗闪避"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.dodgeResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗吸血"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.vampireResist).toFixed(1))+"% ",1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[8]||(a[8]=[F("特殊属性",-1)])]),_:1}),b(P,{bordered:"",column:4},{default:v(()=>[b(S,{label:"强化治疗"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.healBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"强化爆伤"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.critDamageBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"弱化爆伤"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.critDamageReduce).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"最终增伤"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.finalDamageBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"最终减伤"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.finalDamageReduce).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"战斗属性提升"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.combatBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"战斗抗性提升"},{default:v(()=>[F(D((100*le.value.combatManager.player.stats.resistanceBoost).toFixed(1))+"% ",1)]),_:1})]),_:1})],64)):(R(),g(M,{key:1},[b(j,null,{default:v(()=>[...a[9]||(a[9]=[F("基础属性",-1)])]),_:1}),b(P,{bordered:"",column:2},{default:v(()=>[b(S,{label:"生命值"},{default:v(()=>[F(D(le.value.combatManager.enemy.currentHealth.toFixed(1))+" / "+D(le.value.combatManager.enemy.stats.maxHealth.toFixed(1)),1)]),_:1}),b(S,{label:"攻击力"},{default:v(()=>[F(D(le.value.combatManager.enemy.stats.damage.toFixed(1)),1)]),_:1}),b(S,{label:"防御力"},{default:v(()=>[F(D(le.value.combatManager.enemy.stats.defense.toFixed(1)),1)]),_:1}),b(S,{label:"速度"},{default:v(()=>[F(D(le.value.combatManager.enemy.stats.speed.toFixed(1)),1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[10]||(a[10]=[F("战斗属性",-1)])]),_:1}),b(P,{bordered:"",column:3},{default:v(()=>[b(S,{label:"暴击率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.critRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"连击率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.comboRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"反击率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.counterRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"眩晕率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.stunRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"闪避率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.dodgeRate).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"吸血率"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.vampireRate).toFixed(1))+"% ",1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[11]||(a[11]=[F("战斗抗性",-1)])]),_:1}),b(P,{bordered:"",column:3},{default:v(()=>[b(S,{label:"抗暴击"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.critResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗连击"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.comboResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗反击"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.counterResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗眩晕"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.stunResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗闪避"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.dodgeResist).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"抗吸血"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.vampireResist).toFixed(1))+"% ",1)]),_:1})]),_:1}),b(j,null,{default:v(()=>[...a[12]||(a[12]=[F("特殊属性",-1)])]),_:1}),b(P,{bordered:"",column:3},{default:v(()=>[b(S,{label:"强化治疗"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.healBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"强化爆伤"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.critDamageBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"弱化爆伤"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.critDamageReduce).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"最终增伤"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.finalDamageBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"最终减伤"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.finalDamageReduce).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"战斗属性提升"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.combatBoost).toFixed(1))+"% ",1)]),_:1}),b(S,{label:"战斗抗性提升"},{default:v(()=>[F(D((100*le.value.combatManager.enemy.stats.resistanceBoost).toFixed(1))+"% ",1)]),_:1})]),_:1})],64))]),_:1})]),_:1},8,["show","title"]),b(s,{ref_key:"logRef",ref:O,messages:ie.value,style:{"margin-top":"16px"}},null,8,["messages"])]),_:1})):H("",!0)]),_:1})]),_:1})])}}},[["__scopeId","data-v-ba008e68"]]);export{ee as default};
